(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{191:function(t,a,e){"use strict";e.r(a);var s=e(198),i=e(197),l={data:()=>({LANG:LANG,formType:"search",searchConfig:[{type:"quickDate",showTimes:!0},{type:"dateTimeGroup",label:"报表日期",prop:[{prop:"start_time",value:"",label:"开始时间"},{prop:"end_time",value:"",label:"结束时间"}]},{prop:"name",value:"",label:"用户名",type:"text",placeholder:"请输入用户名"}],type:"search",labelWidth:"120px",formVisible:{state:!1},isEdit:{state:!1},columnsUrl:"",tableUrl:"",updated:!1,getData:!0,sumShow:!1,breadcrumb:[],start_time:sessionStorage.dateTimeStart,end_time:sessionStorage.dateTimeEnd,childShow:!0,allData:{}}),methods:{init(){this.updated=!1,this.tableUrl=URL.api+ROUTES.GET.user.agent.line+this.addSearch({start_time:sessionStorage.dateTimeStart,end_time:sessionStorage.dateTimeEnd}),this.beastUrl=URL.api+ROUTES.GET.user.agent.line,this.columnsUrl="../../../static/json/statement/agentLine/columns.json"},doQuery(t){this.start_time=t.item.start_time?t.item.start_time:sessionStorage.dateTimeStart,this.end_time=t.item.end_time?t.item.end_time:sessionStorage.dateTimeEnd,this.tableUrl=this.beastUrl+this.addSearch(t.item),this.breadcrumb=[]},resetForm(){this.start_time=sessionStorage.dateTimeStart,this.end_time=sessionStorage.dateTimeEnd,this.tableUrl=this.beastUrl+this.addSearch({start_time:this.start_time,end_time:this.end_time})},linkAgent(t){if("home"==t)this.tableUrl=this.beastUrl+this.addSearch({start_time:this.start_time,end_time:this.end_time}),this.breadcrumb=[];else{this.tableUrl=this.beastUrl+this.addSearch({start_time:this.start_time,end_time:this.end_time,name:t.name});let a=null;this.breadcrumb.forEach((e,s)=>{e.name==t.name&&(a=s),s>a&&null!==a&&this.breadcrumb.splice(a+1,this.breadcrumb.length)})}},getTableData(t){if(this.allData={},t.allData&&t.allData.attributes){this.childShow=1!=t.allData.attributes.total;let a=t.allData.attributes;this.sumShow=!!t.item.length;for(let t in a)this.allData[t]=a[t]}else this.sumShow=!1},doHandle(t){switch(t.fn){case"showDetails":this.showDetails(t.row)}},showDetails(t){let a=this;a.childShow?(a.breadcrumb.length<1?a.breadcrumb.push({name:t.name,pid:t.pid,id:t.id}):a.breadcrumb.forEach(e=>{t.pid==e.id&&a.breadcrumb.push({name:t.name,pid:t.pid,id:t.id})}),a.tableUrl=a.beastUrl+this.addSearch({start_time:this.start_time,end_time:this.end_time,name:t.name})):this.$message("当前用户暂无下级代理。")}},components:{formEdit:s.a,tableGrid:i.a},computed:{},watch:{},mounted(){},created(){this.init()}},r=e(24);var n=function(t){e(524)},d=Object(r.a)(l,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"agentLine"}},[e("el-row",[e("el-col",[e("formEdit",{attrs:{formVisible:t.formVisible,formConfig:t.searchConfig,formType:t.formType,type:"search",isEdit:t.isEdit,labelWidth:t.labelWidth,showAdd:!1},on:{"do-query":t.doQuery,"reset-form":t.resetForm}})],1),t._v(" "),e("el-col",[e("p",{staticClass:"help_gray mb10"},[t._v("提示：报表每隔5到10分钟会更新一次。（非及时更新）")]),t._v(" "),t.breadcrumb.length?e("span",{staticClass:"font14"},[t._v("团队收益详情 :")]):t._e(),t._v(" "),e("el-breadcrumb",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{separator:"/"}},[e("el-breadcrumb-item",{nativeOn:{click:function(a){return t.linkAgent("home")}}},[t._v("首页")]),t._v(" "),t._l(t.breadcrumb,function(a,s){return e("el-breadcrumb-item",{key:s,nativeOn:{click:function(e){return t.linkAgent(a)}}},[t._v("\n                    "+t._s(a.name)+"\n                ")])})],2),t._v(" "),e("tableGrid",{attrs:{columnsUrl:t.columnsUrl,tableUrl:t.tableUrl,updated:t.updated,getData:t.getData,isCreated:!0,tableCheck:!1,pageSet:!0,tableIndex:!1},on:{"get-table-data":t.getTableData,"do-handle":t.doHandle}},[t.sumShow?e("tr",{staticClass:"sumdiv ml20",attrs:{slot:"other",span:12},slot:"other"},[e("td",{attrs:{colspan:"1"}},[e("div",{staticClass:"cell"},[e("span",{staticClass:"font16 "},[t._v(t._s(t.LANG["总计"]||"总计")+" ")])])]),t._v(" "),e("td",{attrs:{colspan:"1"}},[e("div",{staticClass:"cell"},[e("span",{staticClass:"font16 "},[t._v(t._s(t.allData.bet_times_num)+" ")])])]),t._v(" "),e("td",{attrs:{colspan:"1"}},[e("div",{staticClass:"cell"},[e("span",{staticClass:"font16 "},[t._v(t._s(t.allData.bet_money_sum)+" ")])])]),t._v(" "),e("td",{attrs:{colspan:"1"}},[e("div",{staticClass:"cell"},[e("span",{staticClass:"font16 "},[t._v(t._s(t.allData.valid_bet_sum)+" ")])])]),t._v(" "),e("td",{attrs:{colspan:"1"}},[e("div",{staticClass:"cell"},[e("span",{staticClass:"font16 "},[t._v(t._s(t.allData.deposit_money_sum)+" ")])])]),t._v(" "),e("td",{attrs:{colspan:"1"}},[e("div",{staticClass:"cell"},[e("span",{staticClass:"font16 "},[t._v(t._s(t.allData.withdraw_money_sum)+" ")])])]),t._v(" "),e("td",{attrs:{colspan:"1"}},[e("div",{staticClass:"cell"},[e("span",{staticClass:"font16 ",class:{state_danger:parseFloat(t.allData.profit_loss_sum)<0}},[t._v(t._s(t.allData.profit_loss_sum)+" ")])])]),t._v(" "),e("td",{attrs:{colspan:"1"}},[e("div",{staticClass:"cell"},[e("span",{staticClass:"font16 "},[t._v(t._s(t.allData.send_prize_sum)+" ")])])]),t._v(" "),e("td",{attrs:{colspan:"1"}},[e("div",{staticClass:"cell"},[e("span",{staticClass:"font16 "},[t._v(t._s(t.allData.bonus_sum)+" ")])])]),t._v(" "),e("td",{attrs:{colspan:"1"}},[e("div",{staticClass:"cell"},[e("span",{staticClass:"font16 "},[t._v(t._s(t.allData.contri_sum)+" ")])])])]):t._e()])],1)],1)],1)},[],!1,n,null,null);a.default=d.exports},524:function(t,a,e){}}]);