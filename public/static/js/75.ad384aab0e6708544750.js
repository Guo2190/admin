(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{179:function(e,t,l){"use strict";l.r(t);var i=l(202),s=l(203),a={data:()=>({LANG:LANG,dialogVisible:!1,dialogTitle:"",tableUrl:"",columnsUrl:"lotteryZKCseting",updated:!1,query:{id:"",lottery_open_type:"1",win_bet:{win_bet1:"",win_bet2:"",max_lose_money1:"",max_lose_money2:"",start_time:"",end_time:""}}}),components:{tablegrid:i.a,formEdit:s.a},methods:{init(){this.dialogTitle="",this.tableUrl=URL.api+"/plottery/list",this.columnsUrl="static/json/lotteryNew/lotteryZKCseting/columns.json"},doHandle(e){switch(this.updated=!1,this.formType="",this.nowId=e.row.id,e.fn){case"doEdit":this.doEdit(e.row)}},getForm(e){},doEdit(e){this.dialogVisible=!0,this.dialogTitle=e.name,this.query.id=e.id,this.query.lottery_open_type=e.lottery_open_type,this.query.win_bet.start_time=e.start_time,this.query.win_bet.end_time=e.end_time,this.query.win_bet.win_bet1=e.win_bet1,this.query.win_bet.win_bet2=e.win_bet2,this.query.win_bet.max_lose_money1=(e.max_lose_money1/100).toFixed(2),this.query.win_bet.max_lose_money2=(e.max_lose_money2/100).toFixed(2)},doSubmit(){this.query.win_bet.max_lose_money1=100*this.query.win_bet.max_lose_money1,this.query.win_bet.max_lose_money2=100*this.query.win_bet.max_lose_money2,this.$.autoAjax("patch",URL.api+"/plottery/info",this.query,{ok:e=>{0===e.state&&e.data&&(this.updated=!0,this.$message.success("杀率修改成功！"))},p:()=>{},error:e=>{console.log(e)}}),this.dialogVisible=!1},handleClose(){this.dialogVisible=!1}},created:function(){this.init()}},o=l(10);var n=function(e){l(467)},r=Object(o.a)(a,function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"lotteryZKCseting w100",attrs:{id:"lotteryZKCseting"}},[l("el-col",{attrs:{span:24}},[l("tablegrid",{attrs:{columnsUrl:e.columnsUrl,tableUrl:e.tableUrl,updated:e.updated,autoshowRefresh:!0},on:{"do-handle":e.doHandle}})],1),e._v(" "),l("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible,size:"tiny","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("div",[l("el-row",[l("el-col",[l("span",[e._v("开奖方式：")]),e._v(" "),l("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.query.lottery_open_type,callback:function(t){e.$set(e.query,"lottery_open_type",t)},expression:"query.lottery_open_type"}},[e._v("杀率控制")]),e._v(" "),l("el-radio",{staticClass:"radio",attrs:{label:"2"},model:{value:e.query.lottery_open_type,callback:function(t){e.$set(e.query,"lottery_open_type",t)},expression:"query.lottery_open_type"}},[e._v("随 机")])],1),e._v(" "),"1"==e.query.lottery_open_type?l("el-col",{staticClass:"slNav"},[l("el-card",{staticClass:"box-card-change"},[l("div",{attrs:{slot:"header"},slot:"header"},[l("span",{staticStyle:{"line-height":"26px"}},[e._v("自定义杀率")])]),e._v(" "),l("el-form",{attrs:{"label-width":"90px"}},[l("el-form-item",{attrs:{label:"杀 率："}},[l("el-input",{staticClass:"w80",attrs:{placeholder:"请输入杀率",type:"number",size:"small"},model:{value:e.query.win_bet.win_bet1,callback:function(t){e.$set(e.query.win_bet,"win_bet1",t)},expression:"query.win_bet.win_bet1"}},[l("template",{slot:"append"},[e._v("%")])],2)],1),e._v(" "),l("el-form-item",{attrs:{label:"库 存："}},[l("el-input",{staticClass:"w80",attrs:{placeholder:"请输入金额",type:"number",size:"small"},model:{value:e.query.win_bet.max_lose_money1,callback:function(t){e.$set(e.query.win_bet,"max_lose_money1",t)},expression:"query.win_bet.max_lose_money1"}}),e._v(" "),l("p",{staticClass:"help_gray"},[e._v("*提 示：库存指每期玩家最高盈利金额,0 表示不控制")])],1),e._v(" "),l("el-form-item",{attrs:{label:"执行时间："}},[l("el-time-select",{staticClass:"intW",attrs:{placeholder:"起始时间",size:"small","picker-options":{start:"00:00",step:"00:10",end:"23:50"}},model:{value:e.query.win_bet.start_time,callback:function(t){e.$set(e.query.win_bet,"start_time",t)},expression:"query.win_bet.start_time"}}),e._v(" "),l("el-time-select",{staticClass:"intW",attrs:{placeholder:"结束时间",size:"small","picker-options":{start:"00:00",step:"00:10",end:"23:50",minTime:e.query.win_bet.start_time}},model:{value:e.query.win_bet.end_time,callback:function(t){e.$set(e.query.win_bet,"end_time",t)},expression:"query.win_bet.end_time"}})],1)],1)],1),e._v(" "),l("el-card",{staticClass:"box-card-change"},[l("div",{attrs:{slot:"header"},slot:"header"},[l("span",{staticStyle:{"line-height":"26px"}},[e._v("默认杀率")]),e._v(" "),l("span",{staticClass:"help_gray"},[e._v("*提示：在【自定义杀率】执行时间区间以外，执行的杀率操作。")])]),e._v(" "),l("el-form",{attrs:{"label-width":"90px"}},[l("el-form-item",{attrs:{label:"杀 率："}},[l("el-input",{staticClass:"w80",attrs:{placeholder:"请输入杀率",type:"number",size:"small"},model:{value:e.query.win_bet.win_bet2,callback:function(t){e.$set(e.query.win_bet,"win_bet2",t)},expression:"query.win_bet.win_bet2"}},[l("template",{slot:"append"},[e._v("%")])],2)],1),e._v(" "),l("el-form-item",{attrs:{label:"库 存："}},[l("el-input",{staticClass:"w80",attrs:{placeholder:"请输入金额",type:"number",size:"small"},model:{value:e.query.win_bet.max_lose_money2,callback:function(t){e.$set(e.query.win_bet,"max_lose_money2",t)},expression:"query.win_bet.max_lose_money2"}}),e._v(" "),l("p",{staticClass:"help_gray"},[e._v("*提 示：库存指每期玩家最高盈利金额,0 表示不控制")])],1)],1)],1)],1):e._e(),e._v(" "),"1"==e.query.lottery_open_type?l("el-col",{staticClass:"slNav"},[l("span",{staticClass:"font14"},[e._v("温馨提示：杀率指的是厅主的盈利百分比,不得大于100，该值小于0，表示厅主输钱；该值大于0，表示厅主赢钱。")])]):e._e()],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.doSubmit}},[e._v("确 定")])],1)])],1)},[],!1,n,null,null);t.default=r.exports},467:function(e,t,l){}}]);