(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{171:function(t,e,a){"use strict";a.r(e);var l=a(203),s=a(202),o={data:()=>({dataModel:[],LANG:LANG,searchConfig:[{prop:"date",value:"",type:"quickDate",showTimes:!0},{type:"dateGroup",label:"日期",prop:[{prop:"date_from",value:"",label:"开始时间"},{prop:"date_to",value:"",label:"结束时间"}]},{prop:"user_name",value:"",type:"text",label:"用户名"}],formVisible:{state:!1},type:"search",labelWidth:"90px",isEdit:{state:!1},formType:"",columnsUrl:"",tableUrl:"",baseUrl:"",updated:!1,loading:!1,subTotalValidBet:{},totalValidBet:{},tableLength:0,assembleColumns:{index:3,data:[]},tableData:{list:[]},games:[]}),components:{formEdit:l.a,tablegrid:s.a},computed:{},watch:{},methods:{init(){let t=this;this.baseUrl=URL.api+ROUTES.GET.state.rebate,new Promise((e,a)=>{0===t.assembleColumns.data.length?t.$.autoAjax("get",URL.api+"/games/list","",{ok:a=>{if(0===a.state&&a.data){let l=a.data,s=t.games;l.forEach(e=>{let a={label:e.name,prop:`games,${e.name}`,type:"connectProp"};s.push(e.name),t.assembleColumns.data.push(a)}),t.assembleColumns.data.push({prop:"total",label:"小计",type:"divisionMoney"}),e()}},p:()=>{},error:t=>{console.log(t)}}):e()}).then(()=>{t.columnsUrl="/static/json/userManagement/agentAccount/columns.json",t.tableUrl=URL.api+ROUTES.GET.state.rebate+"?date_from="+sessionStorage.dateTimeStart+"&date_to="+sessionStorage.dateTimeEnd})},doQuery(t){this.tableUrl=this.baseUrl+this.addSearch(t.item)},resetForm(){this.init()},getTableData(t){this.totalMoney={},this.tableLength=t.allData.length||0,this.subTotalValidBet=t.item.subTotalValidBet||{},this.totalValidBet=t.item.totalValidBet||{}}},mounted(){},created(){this.init()}},i=a(10);var r=function(t){a(502)},n=Object(i.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"clearfix",attrs:{id:"betquery"}},[a("formEdit",{attrs:{formVisible:t.formVisible,formConfig:t.searchConfig,type:t.type,labelWidth:t.labelWidth,isEdit:t.isEdit,formType:t.formType,showAdd:!1},on:{"do-query":t.doQuery,"reset-form":t.resetForm}}),t._v(" "),a("el-col",[a("tablegrid",{staticClass:"bankTable",attrs:{columnsUrl:t.columnsUrl,tableUrl:t.tableUrl,tableCheck:!1,getData:!0,assembleColumns:t.assembleColumns,updated:t.updated},on:{"get-table-data":t.getTableData}},[t.tableLength>0?a("tr",{attrs:{slot:"other"},slot:"other"},[a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell tCent"},[t._v(t._s(t.LANG["小计"]||"小计"))])]),t._v(" "),t._l(t.games,function(e){return a("td",[a("div",{staticClass:"cell"},[a("span",[t._v(t._s(t._f("formatMoney")(t.subTotalValidBet[e])))])])])}),t._v(" "),a("td",[a("div",{staticClass:"cell"},[a("span",[t._v(t._s(t._f("formatMoney")(t.subTotalValidBet.total)))])])])],2):t._e(),t._v(" "),t.tableLength>0?a("tr",{attrs:{slot:"other"},slot:"other"},[a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"cell tCent"},[t._v(t._s(t.LANG["合计"]||"合计"))])]),t._v(" "),t._l(t.games,function(e){return a("td",[a("div",{staticClass:"cell"},[a("span",[t._v(t._s(t._f("formatMoney")(t.totalValidBet[e])))])])])}),t._v(" "),a("td",[a("div",{staticClass:"cell"},[a("span",[t._v(t._s(t._f("formatMoney")(t.totalValidBet.total)))])])])],2):t._e()])],1)],1)},[],!1,r,"data-v-d5822ebc",null);e.default=n.exports},502:function(t,e,a){}}]);