(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{198:function(e,t,s){"use strict";s.r(t);var a=s(256),o=s(10);var i=function(e){s(397)},n=Object(o.a)(a.a,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"w100",attrs:{id:"authorization"}},[s("el-row",[s("el-col",{staticClass:"mb20 mt200"},[e._v("\n            "+e._s(e.str)),e.state?e._e():s("span",[e._v(e._s(e.num)+e._s(e.LANG["后跳转页面"]||"后跳转页面"))]),e._v("！\n        ")]),e._v(" "),e.state?e._e():s("el-col",[s("el-button",{on:{click:e.docancel}},[e._v(e._s(e.LANG["取消"]||"取消"))])],1)],1)],1)},[],!1,i,"data-v-713ac1d7",null);t.default=n.exports},242:function(e,t,s){},256:function(e,t,s){"use strict";(function(e){var a=s(269);t.a={data:()=>({LANG:LANG,parms:{},num:5,loading:!1,state:!1,str:""}),methods:{init(){let e=this;this.state=!1,this.str=(LANG['点击 "取消" 后停止页面跳转']||'点击 "取消" 后停止页面跳转')+","+(LANG["等待"]||"等待");let t=setInterval(function(){e.num--,0===e.num&&clearInterval(t)},1e3)},docancel(){this.state=!0,this.str=LANG["您已取消跳转，请关闭本页"]||"您已取消跳转，请关闭本页"},doclose(){this.state=!0,this.str=LANG["请关闭本页"]||"请关闭本页"},goPath(){this.loading=!0;if(JUMPCONFIG&&JUMPCONFIG.path){let t={tid:JUMPCONFIG.tid||"",nonce:JUMPCONFIG.nonce||"",timestamp:parseInt(JUMPCONFIG.timestamp)||0,signature:JUMPCONFIG.signature||"",path:JUMPCONFIG.path||""},s=this;if(this.state)return void(this.loading=!1);this.$.autoAjax("post",URL.api+ROUTES.POST.admin.login.pt,t,{ok:t=>{if(0==t.state&&t.data){sessionStorage.clear();let a=t.data;sessionStorage.user=JSON.stringify(a.list),sessionStorage.userId=parseInt(a.list.id)||-1,sessionStorage.userName=a.list.username||"admin",sessionStorage.routers=JSON.stringify(a.route),sessionStorage.timeOut=t.data.expire?1e3*parseInt(t.data.expire):0,sessionStorage.timeOutString=t.data.expire?new Date(1e3*parseInt(t.data.expire)):0,sessionStorage.refresh_token=t.data.refresh_token,sessionStorage.token=a.token,sessionStorage.role=1,this.setPermissions();let o=a.route||[];o.length>0&&s.getRouters(o),e.URLCONFIG={emulateJson:!0,headers:{"Content-Type":"application/json",Authorization:sessionStorage.token},validateStatus:function(e){return e}},"undefined"!=typeof settings&&settings.init?s.$router.push({path:"/setup"}):s.$router.push({path:"/"+JUMPCONFIG.path})}else 4001==t.state?(s.$message.error(LANG["无效用户"]||"无效用户"),s.doclose()):4002==t.state&&(s.$message.error(LANG["跳转超时"]||"跳转超时"),s.doclose());s.loading=!1},p:()=>{},error:e=>{console.log(e)}}).catch(e=>{s.loading=!1,s.$message.error(LANG["未知错误，请稍后重试！"]||"未知错误，请稍后重试！")})}},getRouters(e){SETSESSIONSTORAGE("deposit","false"),SETSESSIONSTORAGE("withdrawals","false"),SETSESSIONSTORAGE("rebate","false"),e.forEach(e=>{this.setRoutesList(e),e.children&&e.children.length>0&&e.children.forEach(e=>{this.setRoutesList(e,"two")})})},setRoutesList(e,t){let s=this.$router.options.routes;for(let t=0;t<s.length;t++)s[t].action=[],"/offlineReceipts"===e.path&&e.action.length>0&&SETSESSIONSTORAGE("deposit","true"),"/memberGetOut"===e.path&&e.action.length>0&&SETSESSIONSTORAGE("withdrawals","true"),"/apply"===e.path&&e.action.length>0&&SETSESSIONSTORAGE("rebate","true");s.forEach(s=>{if("/"+e.path===s.path&&e.name===s.name){let t=e.action||[];s.action=[],t.forEach(e=>{s.action.push(e)})}else s.children&&s.children.length>0&&"two"===t&&s.children.forEach(t=>{if("/"+e.path===t.path){let s=e.action||[];t.action=[],s.forEach(e=>{t.action.push(e)})}})})},setPermissions(){sessionStorage.true_name=!0,sessionStorage.bank_card=!0,sessionStorage.account_disabled=!0,sessionStorage.account_black=!0,sessionStorage.account_forbidden=!0,sessionStorage.account_kick=!0,sessionStorage.account_limit=!0,sessionStorage.qq=!0,sessionStorage.email=!0,sessionStorage.mobile=!0,sessionStorage.address=!0,sessionStorage.birth=!0,sessionStorage.answer=!0,sessionStorage.gender=!0,sessionStorage.idcard=!0,sessionStorage.weixin=!0,sessionStorage.skype=!0,sessionStorage.nationality=!0,sessionStorage.language=!0,sessionStorage.active_applys_export=!0,sessionStorage.deposit_offlines_export=!0,sessionStorage.deposit_onlines_export=!0,sessionStorage.user_withdraws_export=!0,sessionStorage.valid_user_export=!0,sessionStorage.rebate_export=!0,sessionStorage.rebate_details_export=!0}},watch:{num:function(e){0===e&&this.goPath()}},components:{errorcode:a.a},mounted(){this.init()}}}).call(this,s(4))},269:function(e,t,s){"use strict";var a={data:()=>({}),methods:{init(){}},created(){this.init()}},o=s(10);var i=function(e){s(242)},n=Object(o.a)(a,function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"getErrorCode"}})},[],!1,i,null,null);t.a=n.exports},397:function(e,t,s){}}]);