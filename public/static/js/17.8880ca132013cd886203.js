(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{150:function(e,t,a){"use strict";a.r(t);var i=a(208),n=a(204),o=a(203),s=a(201),l=a(229),r={data(){const e=(e,t,a)=>{new Date(this.modeData.begin_time).getTime()>new Date(this.modeData.end_time).getTime()?a(new Error(LANG["开始时间不能大于结束时间"]||"开始时间不能大于结束时间")):a()};return{LANG:LANG,pcshow:!1,mbshow:!1,linkShow:!1,placename:"",modeDataCopy:{},arrList:[],pcshow:!1,confirmConfig:{state:!1,msg:"",fn:""},payList:[{cn_name:"支付宝扫码",en_name:"alipay"},{cn_name:"微信扫码",en_name:"wechat"},{cn_name:"QQ钱包",en_name:"qqpay"},{cn_name:"网银支付",en_name:"cyberbank"},{cn_name:"京东支付",en_name:"jdpay"},{cn_name:"快捷支付",en_name:"unionpay"},{cn_name:"百度支付",en_name:"baidupay"},{cn_name:"财付通",en_name:"tenpay"},{cn_name:"点卡支付",en_name:"kapay"},{cn_name:"云闪付",en_name:"quickpay"}],modeData:{extra:{visible:"0"},name:"",type_id:"",title:"",begin_time:"",end_time:"",issue_mode:"auto",day:"",money:"",get:"",getMath:"",vipType:[],daySign:"",withdrawRequireVal:"",statusWdl:"",withdrawalsBs:"",withdrawalsGd:"",status:"enabled",description:"",cover:"",sort:"",language_id:"",language_name:"",content:"",content2:"",link:"",open_mode:"",checkedDefut:[],fileList2:[],template_id:"",checkDeposit:{companyCheck:[],onlineCheck:{alipay:[],wechat:[],qqpay:[],cyberbank:[],unionpay:[],jdpay:[],baidupay:[],tenpay:[],kapay:[],quickpay:[]}},companyCheck:[],onlineCheck:{alipay:[],wechat:[],qqpay:[],cyberbank:[],unionpay:[],jdpay:[],baidupay:[],tenpay:[],kapay:[],quickpay:[]},company:{first:[{money:"",prize:"",upper_limit:"",type:"1"}],again:[{money:"",prize:"",upper_limit:"",type:"1"}]},online:{alipay:{first:[{money:"",prize:"",upper_limit:"",type:"1"}],again:[{money:"",prize:"",upper_limit:"",type:"1"}]},wechat:{first:[{money:"",prize:"",upper_limit:"",type:"1"}],again:[{money:"",prize:"",upper_limit:"",type:"1"}]},qqpay:{first:[{money:"",prize:"",upper_limit:"",type:"1"}],again:[{money:"",prize:"",upper_limit:"",type:"1"}]},cyberbank:{first:[{money:"",prize:"",upper_limit:"",type:"1"}],again:[{money:"",prize:"",upper_limit:"",type:"1"}]},jdpay:{first:[{money:"",prize:"",upper_limit:"",type:"1"}],again:[{money:"",prize:"",upper_limit:"",type:"1"}]},unionpay:{first:[{money:"",prize:"",upper_limit:"",type:"1"}],again:[{money:"",prize:"",upper_limit:"",type:"1"}]},baidupay:{first:[{money:"",prize:"",upper_limit:"",type:"1"}],again:[{money:"",prize:"",upper_limit:"",type:"1"}]},tenpay:{first:[{money:"",prize:"",upper_limit:"",type:"1"}],again:[{money:"",prize:"",upper_limit:"",type:"1"}]},kapay:{first:[{money:"",prize:"",upper_limit:"",type:"1"}],again:[{money:"",prize:"",upper_limit:"",type:"1"}]},quickpay:{first:[{money:"",prize:"",upper_limit:"",type:"1"}],again:[{money:"",prize:"",upper_limit:"",type:"1"}]}}},type_idList:[],vipList:[],isIndeterminate:!0,checkList:[],seachData:{},languageList:[],uploadUrl:URL.rpi,keys:"images",imgInit:!1,companyFirstType:"",companyAgainType:"",onlineFirstType:"",onlineAgainType:"",rules:{name:[{required:!0,message:"请填写活动名称",trigger:"blur"}],type_id:[{required:!0,type:"array",message:"请选择优惠类型",trigger:"change"}],language_id:[{required:!0,message:"请选择语言类型",trigger:"change"}],description:[{required:!0,validator:e,trigger:"blur"}],begin_time:[{required:!0,validator:e,trigger:"change"}],end_time:[{required:!0,message:"请输入结束时间",trigger:"change"}],"rule.issueTime":[{required:!0,message:"请填写发放时间",trigger:"blur"}],"rule.issueCycle":[{required:!0,message:"请选择发放周期",trigger:"change"}],issue_mode:[{required:!0,message:"请选择发放奖金方式",trigger:"change"}],open_mode:[{required:!0,message:"请选择打开方式",trigger:"change"}],"rule.withdrawRequire":[{required:!0,message:"请选择提款要求",trigger:"change"}],"extra.visible":[{required:!0,message:"请选择可否放弃选择选项",trigger:"change"}],checkedDefut:[{type:"array",required:!0,message:"请至少选择一个会员等级",trigger:"change"}],title:[{required:!0,message:"请输入活动标题",trigger:"change"}],cover:[{required:!0,message:"请上传图片",trigger:"change"}],link:[{required:!0,validator:(e,t,a)=>{t&&!/^((ht|f)tps?):\/\/([\w\-]+(\.[\w\-]+)*\/)*[\w\-]+(\.[\w\-]+)*\/?(\?([\w\-\.,@?^=%&:\/~\+#]*)+)?/.test(t)?a(new Error(LANG["请输入合法的网址(格式为http://www.***.com或者https://www.***.com)"]||"请输入合法的网址(格式为http://www.***.com或者https://www.***.com)")):a()},trigger:"change"}],companyCheck:[{type:"array",required:!0,message:"请至少选择一种公司入款优惠",trigger:"change"}],onlineCheck:[{type:"array",required:!0,message:"请至少选择一种线上入款优惠",trigger:"change"}],sort:[{validator:(e,t,a)=>{if(!/^(0|[1-9]\d*)$/.test(t.toString()))return a(new Error("请填写非负整数"));a()},trigger:"blur",required:!0}],content:[{required:!0,message:"请输入优惠规则",required:!0}],content2:[{required:!0,message:"请输入优惠规则",required:!0}]},sReset:!1,checkedval:{checked:[]}}},components:{markdownEdit:i.a,upload:n.a,dateTimePicker:o.a,confirm:s.a,checkGroup:l.a},methods:{init(){let e=this;this.modeData.begin_time=window.sessionStorage.sysTime+" 00:00:00",this.modeData.end_time="2118-01-01 23:59:59";let t=this.$route.query;for(let e in t)this.seachData[e]=t[e];this.placename=this.seachData.label,this.$.autoAjax("get",URL.api+ROUTES.GET.activity.types+"?page=1&page_size=100","",{ok:e=>{if(0==e.state&&e.data){let t=e.data||[];this.type_idList=[];for(let e in t)this.type_idList.push({label:t[e].name,value:t[e].id.toString()})}},p:()=>{},error:e=>{console.log(e)}}),new Promise((t,a)=>{let i=URL.api+"/user/levels";e.$.autoAjax("get",i,"",{ok:a=>{let i=a.data;for(let t in i)e.vipList.push({label:"VIP"+i[t].level,value:i[t].level.toString(),disable:!0});t()},p:()=>{},error:e=>{a(err)}})}).then(()=>{let t=URL.api+`/active/template/unique?template_id=${e.seachData.template_id}&&begin_time=${e.modeData.begin_time}&&end_time=${e.modeData.end_time}`;if(this.$.autoAjax("get",t,"",{ok:t=>{let a=t.data;for(let t in a)e.vipList.forEach(e=>{e.value===a[t].id.toString()&&(e.disable=!1)});0==a.length&&"add"==e.seachData.type&&(e.confirmConfig.state=!0,e.confirmConfig.msg="所有会员层级都使用了此优惠活动，请到层级关联的优惠活动去修改",e.confirmConfig.fn="doError")},p:()=>{},error:e=>{console.log(e)}}),"edit"==this.seachData.type){this.checkedval.checked.splice(0,this.checkedval.checked.length);let e=URL.api+`/active/template.fix/${this.seachData.id}`,t=this;this.$.autoAjax("get",e,"",{ok:e=>{if(0==e.state&&e.data){let a=e.data.types||[],i=[];a.forEach((e,t)=>{i.push(e.id),this.checkedval.checked.push(e.id.toString())}),t.modeData.begin_time=e.data.begin_time,t.modeData.content=e.data.content,t.modeData.content2=e.data.content2,t.modeData.open_mode=e.data.open_mode,t.modeData.link=e.data.link,t.modeData.cover=e.data.cover,t.modeData.description=e.data.description,t.modeData.end_time=e.data.end_time,t.modeData.language_id=e.data.language_id,t.modeData.sort=e.data.sort,t.modeData.language_name=e.data.language_name,t.modeData.name=e.data.name,t.modeData.status=e.data.status,t.modeData.withdrawRequireVal=e.data.rule.withdraw_require_val,t.modeData.title=e.data.title,t.modeData.type_id=i,t.modeData.issue_mode=e.data.rule.issue_mode,t.modeData.extra.visible=e.data.rule.extra.visible,t.arrList.push(e.data.cover);const n=e.data.rule.rule;n.company.again.forEach((e,a)=>{1==e.type?e.prize?e.fixedBonus=e.prize/100:e.fixedBonus="":(e.percentageOfDeposits=e.prize,e.upper_limit=e.upper_limit?e.upper_limit/100:""),e.money=e.money?e.money/100:"",e.money&&-1===t.modeData.companyCheck.indexOf("again")&&(t.modeData.companyCheck.push("again"),t.modeData.checkDeposit.companyCheck.push("again"))}),n.company.first.forEach((e,a)=>{1==e.type?e.prize?e.fixedBonus=e.prize/100:e.fixedBonus="":(e.percentageOfDeposits=e.prize,e.upper_limit=e.upper_limit?e.upper_limit/100:""),e.money=e.money?e.money/100:"",e.money&&-1===t.modeData.companyCheck.indexOf("first")&&(t.modeData.companyCheck.push("first"),t.modeData.checkDeposit.companyCheck.push("first"))}),t.modeData.company=n.company;for(let e in n.online)n.online[e].again.forEach((a,i)=>{1==a.type?a.prize?a.fixedBonus=a.prize/100:a.fixedBonus="":(a.percentageOfDeposits=a.prize,a.upper_limit=a.upper_limit?a.upper_limit/100:""),a.money=a.money?a.money/100:"",a.money&&-1===t.modeData.onlineCheck[e].indexOf("again")&&(t.modeData.onlineCheck[e].push("again"),t.modeData.checkDeposit.onlineCheck[e].push("again"))}),n.online[e].first.forEach((a,i)=>{1==a.type?a.prize?a.fixedBonus=a.prize/100:a.fixedBonus="":(a.percentageOfDeposits=a.prize,a.upper_limit=a.upper_limit?a.upper_limit/100:""),a.money=a.money?a.money/100:"",a.money&&-1===t.modeData.onlineCheck[e].indexOf("first")&&(t.modeData.onlineCheck[e].push("first"),t.modeData.checkDeposit.onlineCheck[e].push("first"))});t.modeData.online=n.online;let o=e.data.rule.member_level;for(let e in o)t.vipList.forEach(t=>{t.value===o[e].id.toString()&&(t.disable=!1)}),t.modeData.checkedDefut.push(o[e].name)}},p:()=>{},error:e=>{reject(err)}})}});let a=URL.api+ROUTES.GET.langeages;this.$.autoAjax("get",a,"",{ok:e=>{let t=e.data;this.languageList=[];for(let e in t)this.languageList.push({label:t[e].name,value:t[e].id.toString()});this.modeData.language_id="1"},p:()=>{},error:e=>{console.log(e)}})},changeOption(e){this.modeData.type_id=e.item},handleCheckAllChange(e){let t=[];for(let e in this.vipList)t[e]=this.vipList[e].label;this.modeData.checkedDefut=e.target.checked?t:[],this.isIndeterminate=!1},handleCheckedDefutChange(e){let t=e.length;this.checkAll=t===this.vipList.length,this.isIndeterminate=t>0&&t<this.vipList.length},doSubmit(e){let t=this;this.$refs.form.validate(a=>{if(!a)return t.$message.error("请检查表单"),!1;{let a=this.languageList.find(e=>e.value=this.modeData.language_id),o=JSON.parse(JSON.stringify(this.modeData.company)),s=JSON.parse(JSON.stringify(this.modeData.online));function i(){for(let e in s)-1!==this.modeData.onlineCheck[e].indexOf("first")?s[e].first.forEach((e,t)=>{e.money=100*e.money,1==e.type?(e.prize=100*e.fixedBonus,e.prize=100*e.fixedBonus,delete e.upper_limit,delete e.fixedBonus,delete e.percentageOfDeposits):(e.prize=e.percentageOfDeposits,e.upper_limit=100*e.upper_limit,delete e.fixedBonus,delete e.percentageOfDeposits)}):s[e].first.forEach((e,t)=>{e.money=0,e.type="1",e.prize="",e.upper_limit="",e.percentageOfDeposits="",e.fixedBonus=""})}function n(){for(let e in s)-1!==this.modeData.onlineCheck[e].indexOf("again")?s[e].again.forEach((e,t)=>{e.money=100*e.money,1==e.type?(e.prize=100*e.fixedBonus,e.prize=100*e.fixedBonus,delete e.upper_limit,delete e.fixedBonus,delete e.percentageOfDeposits):(e.prize=e.percentageOfDeposits,e.upper_limit=100*e.upper_limit,delete e.fixedBonus,delete e.percentageOfDeposits)}):s[e].again.forEach((e,t)=>{e.money=0,e.type="1",e.prize="",e.upper_limit="",e.percentageOfDeposits="",e.fixedBonus=""})}this.modeData.companyCheck;let l=this.modeData.onlineCheck;(function(){-1!==this.modeData.companyCheck.indexOf("first")?o.first.forEach((e,t)=>{e.money=100*e.money,1==e.type?(e.prize=100*e.fixedBonus,delete e.upper_limit,delete e.fixedBonus,delete e.percentageOfDeposits):(e.prize=e.percentageOfDeposits,e.upper_limit=100*e.upper_limit,delete e.fixedBonus,delete e.percentageOfDeposits)}):o.first.forEach(e=>{e.money=0,e.prize="",e.type="1",e.upper_limit="",e.percentageOfDeposits="",e.fixedBonus=""})}).call(this),function(){-1!==this.modeData.companyCheck.indexOf("again")?o.again.forEach((e,t)=>{e.money=100*e.money,1==e.type?(e.prize=100*e.fixedBonus,e.prize=100*e.fixedBonus,delete e.upper_limit,delete e.fixedBonus,delete e.percentageOfDeposits):(e.prize=e.percentageOfDeposits,e.upper_limit=100*e.upper_limit,delete e.fixedBonus,delete e.percentageOfDeposits)}):o.again.forEach(e=>{e.money=0,e.prize="",e.type="1",e.upper_limit="",e.percentageOfDeposits="",e.fixedBonus=""})}.call(this),1===l.length?"first"===l[0]?i.call(this):n.call(this):(i.call(this),n.call(this));let r=[];this.modeData.checkedDefut.forEach(e=>{this.vipList.forEach(function(t){t.label===e&&r.push(t)})});let c=r.map(function(e){return e.value}).join(","),p=this.type_idList,m=[],d=this.modeData.type_id;for(let e=0;e<d.length;e++)for(let t=0;t<p.length;t++)d[e]==p[t].value&&m.push({id:FORMATINT(p[t].value),name:p[t].label});let u={name:this.modeData.name,types:m,title:this.modeData.title,begin_time:this.modeData.begin_time,end_time:this.modeData.end_time,description:this.modeData.description,cover:this.modeData.cover,open_mode:parseInt(this.modeData.open_mode),language_id:parseInt(this.modeData.language_id),language_name:a?a.label:"",sort:parseInt(this.modeData.sort),content:this.modeData.content,content2:this.modeData.content2,link:this.modeData.link,status:this.modeData.status,rule_type:"favorable",rule:{template_id:9,extra:{visible:this.modeData.extra.visible},rule:{company:o,online:s},luckydraw_condition:null,limit_times:0,withdraw_require:"times",withdraw_require_val:this.modeData.withdrawRequireVal,member_level:c,issue_time:"0",issue_cycle:"day",issue_mode:this.modeData.issue_mode}};if("add"===e){let e=URL.api+"/active/template.fix";this.$.autoAjax("put",e,u,{ok:e=>{if(0===e.state){let e=LANG["添加成功"]||"添加成功";this.$message.success(e),setTimeout(function(){t.$router.push({path:"addActiveSet"})},1e3)}else if(e.state>3)this.$message.error(e.msg);else{let e=LANG["修改失败"]||"修改失败";this.$message.error(e)}},p:()=>{},error:e=>{console.log(e)}})}else{let e=URL.api+`/active/template.fix/${this.seachData.id}`;this.$.autoAjax("put",e,u,{ok:e=>{if(0===e.state){let e=LANG["修改成功"]||"修改成功";this.$message.success(e),setTimeout(function(){t.$router.push({path:"activeSet"})},1e3)}else if(e.state>3)this.$message.error(e.msg);else{let e=LANG["修改失败"]||"修改失败";this.$message.error(e)}},p:()=>{},error:e=>{console.log(e)}})}}})},goBack(e){"add"==e?this.$router.push({path:"addActiveSet"}):this.$router.push({path:"activeSet"})},doSaveFile(e){this.modeData.cover=e.url[0]},changeLanguage(e){this.languageList},addCompanyFirst(){this.modeData.company.first.push({money:"",type:"1",prize:"",upper_limit:"",radio:"fixedBonus"})},delectCompanyFirst(e){this.modeData.company.first.splice(e,1)},addCompanyAgain(){this.modeData.company.again.push({money:"",type:"1",prize:"",upper_limit:"",radio:"fixedBonus"})},delectCompanyAgain(e,t){this.modeData.company.again.splice(t,1)},addOnlineFirst(e){this.modeData.online[e].first.push({money:"",type:"1",prize:"",upper_limit:"",radio:"fixedBonus"})},delectOnlineFirst(e,t){this.modeData.online[t].first.splice(e,1)},addOnlineAgain(e){this.modeData.online[e].again.push({money:"",type:"1",prize:"",upper_limit:"",radio:"fixedBonus"})},delectOnlineAgain(e,t){this.modeData.online[t].again.splice(e,1)},timeChange(e){setTimeout(()=>{this.$refs.form.validateField("begin_time"),this.$refs.form.validateField("end_time")})},checkDeposit(e,t,a){let i=!0;for(let e in t.onlineCheck)t.onlineCheck[e].length>0&&(i=!1);t.companyCheck.length>0||!i?a():a(new Error(LANG["至少选择一种入款方式"]||"至少选择一种入款方式"))},validatorCompanyFirstMoney(e,t,a){-1!==this.modeData.companyCheck.indexOf("first")?this.validatorNumber.apply(this,arguments):a()},validatorCompanyAgainMoney(e,t,a){-1!==this.modeData.companyCheck.indexOf("again")?this.validatorNumber.apply(this,arguments):a()},validatorOnlineFirstMoney(e,t,a){-1!==this.modeData.onlineCheck.indexOf("first")?this.validatorNumber.apply(this,arguments):a()},validatorOnlineAgainMoney(e,t,a){-1!==this.modeData.onlineCheck.indexOf("again")?this.validatorNumber.apply(this,arguments):a()},validatorCompanyFirstTypeNumber(e,t,a){let i=this.companyFirstType;""!==i&&"2"===this.modeData.company.first[i].type?this.validatorNumber.apply(this,arguments):a()},validatorCompanyFirstMoneyNumber(e,t,a){let i=this.companyFirstType;""!==i&&"1"===this.modeData.company.first[i].type?this.validatorNumber.apply(this,arguments):a()},companyFirstInputBlur(e){this.companyFirstType=e},companyCheckChange(){this.modeData.checkDeposit.companyCheck=this.modeData.companyCheck,this.$refs.form.validateField("checkDeposit")},companyFirstTypeChange(){this.companyFirstType;this.$refs.companyFirstInput.forEach((e,t)=>{e.handleBlur()})},validatorCompanyAgainTypeNumber(e,t,a){let i=this.companyAgainType;""!==i&&"2"===this.modeData.company.again[i].type?this.validatorNumber.apply(this,arguments):a()},validatorCompanyAgainMoneyNumber(e,t,a){let i=this.companyAgainType;""!==i&&"1"===this.modeData.company.again[i].type?this.validatorNumber.apply(this,arguments):a()},companyAgainInputBlur(e){this.companyAgainType=e},companyAgainTypeChange(){this.$refs.companyAgainInput.forEach(e=>{e.handleBlur()})},validatorOnlineFirstTypeNumber(e,t,a){let i=this.onlineFirstType;""!==i&&"2"===this.modeData.online.first[i].type?this.validatorNumber.apply(this,arguments):a()},validatorOnlineFirstMoneyNumber(e,t,a){let i=this.onlineFirstType;""!==i&&"1"===this.modeData.online.first[i].type?this.validatorNumber.apply(this,arguments):a()},onlineCheckChange(e){this.modeData.checkDeposit.onlineCheck[e]=this.modeData.onlineCheck[e],this.$refs.form.validateField("checkDeposit")},onlineFirstInputBlur(e){this.onlineFirstType=e},onlineFirstTypeChange(){this.$refs.onlineFirstInput.forEach(e=>{e.handleBlur()})},validatorOnlineAgainTypeNumber(e,t,a){let i=this.onlineAgainType;""!==i&&"2"===this.modeData.online.again[i].type?this.validatorNumber.apply(this,arguments):a()},validatorOnlineAgainMoneyNumber(e,t,a){let i=this.onlineAgainType;""!==i&&"1"===this.modeData.online.again[i].type?this.validatorNumber.apply(this,arguments):a()},onlineAgainInputBlur(e){this.onlineAgainType=e},onlineAgainTypeChange(){this.$refs.onlineAgainInput.forEach(e=>{e.handleBlur()})},radioChange(e){this.linkShow="4"!=e,"4"==e?(this.pcshow=!0,this.mbshow=!0,this.rules.content.push({message:"请输入pc活动规则",trigger:"change",required:!0}),this.rules.content2.push({message:"请输入H5活动规则",trigger:"change",required:!0})):(this.rules.content2.shift(),this.rules.content.shift(),this.pcshow=!1,this.mbshow=!1)},getconLength(e){this.nowcontentNum=e.num,e.num&&setTimeout(()=>{this.$refs.form.validateField(e.key)},100)},validatorNumber(e,t,a){t?/^[0-9]+(.[0-9]{1,2})?$/.test(t.toString().replace(/^\s+|\s+$/,""))?t<0?a(new Error(LANG["输入金额必需大于0"]||"输入金额必需大于0")):t>9999999?a(new Error(LANG["输入金额不能大于9999999"]||"输入金额不能大于9999999")):a():isNaN(t)||0==!!t.replace(/^\s+|\s+$/,"")?a(new Error(LANG["请输入数字值"]||"请输入数字值")):a(new Error(LANG["小数点后不超过两位"]||"小数点后不超过两位")):a(new Error(LANG["请输入数字值"]||"请输入数字值"))},doShowError(e){"doError"==e.fn&&this.$router.replace("/activeSet")},returnPage(){this.$router.replace("/activeSet")}},computed:{},activated(){this.init()},beforeRouteLeave(e,t,a){this.$refs.form.resetFields(),this.checkKeys=[],this.arrList=[],this.vipList=[],this.modeData.description="",this.modeData.content="",this.modeData.content2="",this.pcshow=!1,this.mbshow=!1,a(!0)}},c=a(24);var p=function(e){a(438)},m=Object(c.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"activeMode"}},[a("el-col",[a("el-button",{staticClass:"bankBtn pRight20",attrs:{type:"primary",icon:"arrow-left",size:"small"},on:{click:e.returnPage}},[e._v("\n                "+e._s(e.LANG["返 回"]||"返 回")+"\n            ")])],1),e._v(" "),a("el-form",{ref:"form",staticClass:"mt20 clear",attrs:{model:e.modeData,"label-width":"120px",rules:e.rules}},[a("el-col",{attrs:{span:24}},[a("el-row",[a("el-col",{staticClass:"Layout",attrs:{span:24}},[a("h3",{staticClass:"tCent",domProps:{textContent:e._s(e.LANG["规则设置"]||"规则设置")}}),e._v(" "),a("div",{staticClass:"clear"},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"优惠活动名称",prop:"name"}},[a("el-input",{staticClass:"w80",attrs:{placeholder:e.placename},model:{value:e.modeData.name,callback:function(t){e.$set(e.modeData,"name",t)},expression:"modeData.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"优惠类型",prop:"type_id"}},[a("checkGroup",{attrs:{checkOptions:e.type_idList,sReset:e.sReset,checkedval:e.checkedval},on:{"change-option":e.changeOption}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.modeData.type_id,expression:"modeData.type_id"}],staticStyle:{display:"none"},domProps:{value:e.modeData.type_id},on:{input:function(t){t.target.composing||e.$set(e.modeData,"type_id",t.target.value)}}})],1)],1)],1),e._v(" "),a("div",{staticClass:"clear checkContainer"},[a("el-form-item",{attrs:{label:"公司入款优惠"}},[a("el-checkbox-group",{on:{change:e.companyCheckChange},model:{value:e.modeData.companyCheck,callback:function(t){e.$set(e.modeData,"companyCheck",t)},expression:"modeData.companyCheck"}},[a("el-col",{attrs:{span:24}},[a("el-checkbox",{attrs:{label:"first"}},[a("span",{domProps:{textContent:e._s(e.LANG["首次优惠"]||"首次优惠")}})]),e._v(" "),e._l(e.modeData.company.first,function(t,i){return a("el-row",{key:i},[a("el-col",{attrs:{sm:24,md:24,lg:4,xs:4}},[a("el-col",{staticClass:"addPadding"},[a("span",[e._v("存款金额")]),e._v(" "),a("el-form-item",{staticClass:"to-inline-block",attrs:{prop:"company.first["+i+"].money"}},[a("el-input",{model:{value:t.money,callback:function(a){e.$set(t,"money",a)},expression:"item.money"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{sm:24,md:24,lg:18,xs:18}},[a("el-col",{attrs:{lg:14,sx:14,md:19,sm:19}},[a("el-radio-group",{on:{change:e.companyFirstTypeChange},model:{value:t.type,callback:function(a){e.$set(t,"type",a)},expression:"item.type"}},[a("el-radio",{staticClass:"radio radioGroup",staticStyle:{"line-height":"35px"},attrs:{label:"1"}},[a("span",[e._v("固定奖金")]),e._v(" "),a("el-form-item",{staticClass:"to-inline-block",attrs:{prop:"company.first["+i+"].fixedBonus"}},[a("el-input",{ref:"companyFirstInput",refInFor:!0,on:{blur:function(t){return e.companyFirstInputBlur(i)}},model:{value:t.fixedBonus,callback:function(a){e.$set(t,"fixedBonus",a)},expression:"item.fixedBonus"}})],1)],1),e._v(" "),a("el-radio",{staticClass:"radio radioGroup",staticStyle:{"line-height":"35px"},attrs:{label:"2"}},[a("span",[e._v("存款百分比%")]),e._v(" "),a("el-form-item",{staticClass:"to-inline-block",attrs:{prop:"company.first["+i+"].percentageOfDeposits"}},[a("el-input",{ref:"companyFirstInput",refInFor:!0,on:{blur:function(t){return e.companyFirstInputBlur(i)}},model:{value:t.percentageOfDeposits,callback:function(a){e.$set(t,"percentageOfDeposits",a)},expression:"item.percentageOfDeposits"}})],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("span",[e._v("上限")]),e._v(" "),a("el-form-item",{staticClass:"to-inline-block",attrs:{prop:"company.first["+i+"].upper_limit"}},[a("el-input",{ref:"companyFirstInput",refInFor:!0,on:{blur:function(t){return e.companyFirstInputBlur(i)}},model:{value:t.upper_limit,callback:function(a){e.$set(t,"upper_limit",a)},expression:"item.upper_limit"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{height:"37px","line-height":"37px","text-align":"center","background-color":"#ccc"},attrs:{span:1}},[0!=i?a("div",{on:{click:function(t){return e.delectCompanyFirst(i)}}},[a("i",{staticClass:"el-icon-minus"})]):e._e(),e._v(" "),0==i?a("div",{on:{click:e.addCompanyFirst}},[a("i",{staticClass:"el-icon-plus"})]):e._e()])],1)],1)})],2),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-checkbox",{attrs:{label:"again"}},[a("span",{domProps:{textContent:e._s(e.LANG["再存优惠"]||"再存优惠")}})]),e._v(" "),e._l(e.modeData.company.again,function(t,i){return a("el-row",{key:i},[a("el-col",{attrs:{sm:24,md:24,lg:4,xs:4}},[a("el-col",{staticClass:"addPadding"},[a("span",[e._v("存款金额")]),e._v(" "),a("el-form-item",{staticClass:"to-inline-block",attrs:{prop:"company.again["+i+"].money"}},[a("el-input",{model:{value:t.money,callback:function(a){e.$set(t,"money",a)},expression:"item.money"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{sm:24,md:24,lg:18,xs:18}},[a("el-col",{attrs:{lg:14,sx:14,md:19,sm:19}},[a("el-radio-group",{on:{change:e.companyAgainTypeChange},model:{value:t.type,callback:function(a){e.$set(t,"type",a)},expression:"item.type"}},[a("el-radio",{staticClass:"radioGroup",staticStyle:{"line-height":"35px"},attrs:{label:"1"}},[a("span",[e._v("固定奖金")]),e._v(" "),a("el-form-item",{staticClass:"to-inline-block",attrs:{prop:"company.again["+i+"].fixedBonus"}},[a("el-input",{ref:"companyAgainInput",refInFor:!0,on:{blur:function(t){return e.companyAgainInputBlur(i)}},model:{value:t.fixedBonus,callback:function(a){e.$set(t,"fixedBonus",a)},expression:"item.fixedBonus"}})],1)],1),e._v(" "),a("el-radio",{staticClass:"radioGroup",staticStyle:{"line-height":"35px"},attrs:{label:"2"}},[a("span",[e._v("存款百分比%")]),e._v(" "),a("el-form-item",{staticClass:"to-inline-block",attrs:{prop:"company.again["+i+"].percentageOfDeposits"}},[a("el-input",{ref:"companyAgainInput",refInFor:!0,on:{blur:function(t){return e.companyAgainInputBlur(i)}},model:{value:t.percentageOfDeposits,callback:function(a){e.$set(t,"percentageOfDeposits",a)},expression:"item.percentageOfDeposits"}})],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("span",[e._v("上限")]),e._v(" "),a("el-form-item",{staticClass:"to-inline-block",attrs:{prop:"company.again["+i+"].upper_limit"}},[a("el-input",{ref:"companyAgainInput",refInFor:!0,on:{blur:function(t){return e.companyAgainInputBlur(i)}},model:{value:t.upper_limit,callback:function(a){e.$set(t,"upper_limit",a)},expression:"item.upper_limit"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{height:"37px","line-height":"37px","text-align":"center","background-color":"#ccc"},attrs:{span:1}},[0!=i?a("div",{on:{click:function(t){return e.delectCompanyAgain(i)}}},[a("i",{staticClass:"el-icon-minus"})]):e._e(),e._v(" "),0==i?a("div",{on:{click:e.addCompanyAgain}},[a("i",{staticClass:"el-icon-plus"})]):e._e()])],1)],1)})],2)],1)],1)],1),e._v(" "),a("div",{staticClass:"clear checkContainer"},[a("el-form-item",{attrs:{label:"线上入款优惠"}},[a("p",{staticClass:"tip"},[e._v("注：线上入款首存优惠只享有所有支付场景中的一个首存优惠")]),e._v(" "),e._l(e.payList,function(t){return a("div",[a("p",{staticClass:"payName"},[e._v(e._s(t.cn_name))]),e._v(" "),a("el-checkbox-group",{on:{change:function(a){return e.onlineCheckChange(t.en_name)}},model:{value:e.modeData.onlineCheck[t.en_name],callback:function(a){e.$set(e.modeData.onlineCheck,t.en_name,a)},expression:"modeData.onlineCheck[pay.en_name]"}},[a("el-col",{attrs:{span:24}},[a("el-checkbox",{attrs:{label:"first"}},[a("span",{domProps:{textContent:e._s(e.LANG["首次优惠"]||"首次优惠(注：线上入款首存优惠只享有所有支付场景中的一个首存优惠)")}})]),e._v(" "),e._l(e.modeData.online[t.en_name].first,function(i,n){return a("el-row",{key:n},[a("el-col",{attrs:{sm:24,md:24,lg:4,xs:4}},[a("el-col",{staticClass:"addPadding"},[a("span",[e._v("存款金额")]),e._v(" "),a("el-form-item",{staticClass:"to-inline-block",attrs:{prop:"online["+t.en_name+"].first["+n+"].money"}},[a("el-input",{model:{value:i.money,callback:function(t){e.$set(i,"money",t)},expression:"item.money"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{sm:24,md:24,lg:18,xs:18}},[a("el-col",{attrs:{lg:14,sx:14,md:19,sm:19}},[a("el-radio-group",{on:{change:e.onlineFirstTypeChange},model:{value:i.type,callback:function(t){e.$set(i,"type",t)},expression:"item.type"}},[a("el-radio",{staticClass:"radio radioGroup",staticStyle:{"line-height":"35px"},attrs:{label:"1"}},[a("span",[e._v("固定奖金")]),e._v(" "),a("el-form-item",{staticClass:"to-inline-block",attrs:{prop:"online["+t.en_name+"].first["+n+"].fixedBonus"}},[a("el-input",{ref:"onlineFirstInput",refInFor:!0,on:{blur:function(t){return e.onlineFirstInputBlur(n)}},model:{value:i.fixedBonus,callback:function(t){e.$set(i,"fixedBonus",t)},expression:"item.fixedBonus"}})],1)],1),e._v(" "),a("el-radio",{staticClass:"radio radioGroup",staticStyle:{"line-height":"35px"},attrs:{label:"2"}},[a("span",[e._v("存款百分比%")]),e._v(" "),a("el-form-item",{staticClass:"to-inline-block",attrs:{prop:"online["+t.en_name+"].first["+n+"].percentageOfDeposits"}},[a("el-input",{ref:"onlineFirstInput",refInFor:!0,on:{blur:function(t){return e.onlineFirstInputBlur(n)}},model:{value:i.percentageOfDeposits,callback:function(t){e.$set(i,"percentageOfDeposits",t)},expression:"item.percentageOfDeposits"}})],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("span",[e._v("上限")]),e._v(" "),a("el-form-item",{staticClass:"to-inline-block",attrs:{prop:"online["+t.en_name+"].first["+n+"].upper_limit"}},[a("el-input",{ref:"onlineFirstInput",refInFor:!0,on:{blur:function(t){return e.onlineFirstInputBlur(n)}},model:{value:i.upper_limit,callback:function(t){e.$set(i,"upper_limit",t)},expression:"item.upper_limit"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{height:"37px","line-height":"37px","text-align":"center","background-color":"#ccc"},attrs:{span:1}},[0!=n?a("div",{on:{click:function(a){return e.delectOnlineFirst(n,t.en_name)}}},[a("i",{staticClass:"el-icon-minus"})]):e._e(),e._v(" "),0==n?a("div",{on:{click:function(a){return e.addOnlineFirst(t.en_name)}}},[a("i",{staticClass:"el-icon-plus"})]):e._e()])],1)],1)})],2),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-checkbox",{attrs:{label:"again"}},[a("span",{domProps:{textContent:e._s(e.LANG["再存优惠"]||"再存优惠")}})]),e._v(" "),e._l(e.modeData.online[t.en_name].again,function(i,n){return a("el-row",{key:n},[a("el-col",{attrs:{sm:24,md:24,lg:4,xs:4}},[a("el-col",{staticClass:"addPadding"},[a("span",[e._v("存款金额")]),e._v(" "),a("el-form-item",{staticClass:"to-inline-block",attrs:{prop:"online["+t.en_name+"].again["+n+"].money"}},[a("el-input",{model:{value:i.money,callback:function(t){e.$set(i,"money",t)},expression:"item.money"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{sm:24,md:24,lg:18,xs:18}},[a("el-col",{attrs:{lg:14,sx:14,md:19,sm:19}},[a("el-radio-group",{on:{change:e.onlineAgainTypeChange},model:{value:i.type,callback:function(t){e.$set(i,"type",t)},expression:"item.type"}},[a("el-radio",{staticClass:"radio radioGroup",staticStyle:{"line-height":"35px"},attrs:{label:"1"}},[a("span",[e._v("固定奖金")]),e._v(" "),a("el-form-item",{staticClass:"to-inline-block",attrs:{prop:"online["+t.en_name+"].again["+n+"].fixedBonus"}},[a("el-input",{ref:"onlineAgainInput",refInFor:!0,on:{blur:function(t){return e.onlineAgainInputBlur(n)}},model:{value:i.fixedBonus,callback:function(t){e.$set(i,"fixedBonus",t)},expression:"item.fixedBonus"}})],1)],1),e._v(" "),a("el-radio",{staticClass:"radio radioGroup",staticStyle:{"line-height":"35px"},attrs:{label:"2"}},[a("span",[e._v("存款百分比%")]),e._v(" "),a("el-form-item",{staticClass:"to-inline-block",attrs:{prop:"online["+t.en_name+"].again["+n+"].percentageOfDeposits"}},[a("el-input",{ref:"onlineAgainInput",refInFor:!0,on:{blur:function(t){return e.onlineAgainInputBlur(n)}},model:{value:i.percentageOfDeposits,callback:function(t){e.$set(i,"percentageOfDeposits",t)},expression:"item.percentageOfDeposits"}})],1)],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("span",[e._v("上限")]),e._v(" "),a("el-form-item",{staticClass:"to-inline-block",attrs:{prop:"online["+t.en_name+"].again["+n+"].upper_limit"}},[a("el-input",{ref:"onlineAgainInput",refInFor:!0,on:{blur:function(t){return e.onlineAgainInputBlur(n)}},model:{value:i.upper_limit,callback:function(t){e.$set(i,"upper_limit",t)},expression:"item.upper_limit"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{height:"37px","line-height":"37px","text-align":"center","background-color":"#ccc"},attrs:{span:1}},[0!=n?a("div",{on:{click:function(a){return e.delectOnlineAgain(n,t.en_name)}}},[a("i",{staticClass:"el-icon-minus"})]):e._e(),e._v(" "),0==n?a("div",{on:{click:function(a){return e.addOnlineAgain(t.en_name)}}},[a("i",{staticClass:"el-icon-plus"})]):e._e()])],1)],1)})],2)],1)],1)})],2)],1),e._v(" "),a("el-form-item",{staticClass:"checkDeposit",attrs:{prop:"checkDeposit",rules:[{validator:e.checkDeposit,trigger:"change"}]}}),e._v(" "),a("el-form-item",{attrs:{label:"有效会员等级",prop:"checkedDefut"}},[a("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),a("el-checkbox-group",{on:{change:e.handleCheckedDefutChange},model:{value:e.modeData.checkedDefut,callback:function(t){e.$set(e.modeData,"checkedDefut",t)},expression:"modeData.checkedDefut"}},e._l(e.vipList,function(e,t){return a("el-checkbox",{key:t,attrs:{label:e.label,disabled:e.disable,name:"type"}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠提款要求",required:""}},[a("el-form-item",{staticStyle:{display:"inline-block"},attrs:{prop:"withdrawRequireVal",rules:[{validator:e.validatorNumber,trigger:"blur"}]}},[a("el-input",{staticClass:"intW",model:{value:e.modeData.withdrawRequireVal,callback:function(t){e.$set(e.modeData,"withdrawRequireVal",t)},expression:"modeData.withdrawRequireVal"}})],1),e._v(" "),a("span",{domProps:{textContent:e._s(e.LANG["倍"]||"倍")}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio",{staticClass:"radio",attrs:{label:"enabled"},model:{value:e.modeData.status,callback:function(t){e.$set(e.modeData,"status",t)},expression:"modeData.status"}},[a("span",{domProps:{textContent:e._s(e.LANG["启用"]||"启用")}})]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:"disabled"},model:{value:e.modeData.status,callback:function(t){e.$set(e.modeData,"status",t)},expression:"modeData.status"}},[a("span",{domProps:{textContent:e._s(e.LANG["停用"]||"停用")}})])],1),e._v(" "),a("el-form-item",{attrs:{label:"可否放弃选择",prop:"extra.visible"}},[a("el-radio-group",{model:{value:e.modeData.extra.visible,callback:function(t){e.$set(e.modeData.extra,"visible",t)},expression:"modeData.extra.visible"}},[a("el-radio",{staticClass:"radio",attrs:{label:"1"}},[a("span",{domProps:{textContent:e._s(e.LANG["是"]||"是")}})]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:"0"}},[a("span",{domProps:{textContent:e._s(e.LANG["否"]||"否")}})])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{staticClass:"Layout",attrs:{span:24}},[a("h3",{staticClass:"tCent",domProps:{textContent:e._s(e.LANG["内容设置"]||"内容设置")}}),e._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"优惠活动标题",prop:"title"}},[a("el-input",{staticClass:"w80",model:{value:e.modeData.title,callback:function(t){e.$set(e.modeData,"title",t)},expression:"modeData.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"语言",prop:"language_id"}},[a("el-select",{staticClass:"w80",attrs:{placeholder:"请选择类型",disabled:""},on:{change:e.changeLanguage},model:{value:e.modeData.language_id,callback:function(t){e.$set(e.modeData,"language_id",t)},expression:"modeData.language_id"}},e._l(e.languageList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠活动描述",prop:"description"}},[a("el-input",{staticClass:"w80",attrs:{type:"textarea"},model:{value:e.modeData.description,callback:function(t){e.$set(e.modeData,"description",t)},expression:"modeData.description"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图片上传"}},[a("el-input",{staticStyle:{display:"none"},model:{value:e.modeData.cover,callback:function(t){e.$set(e.modeData,"cover",t)},expression:"modeData.cover"}}),e._v(" "),a("upload",{attrs:{uploadUrl:e.uploadUrl,keys:e.keys,isInit:e.imgInit,fileNum:1,arrList:e.arrList,imgResolution:"460*180"},on:{response:e.doSaveFile}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{staticClass:"w80",model:{value:e.modeData.sort,callback:function(t){e.$set(e.modeData,"sort",t)},expression:"modeData.sort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"打开方式",prop:"open_mode"}},[a("el-radio-group",{on:{change:e.radioChange},model:{value:e.modeData.open_mode,callback:function(t){e.$set(e.modeData,"open_mode",t)},expression:"modeData.open_mode"}},[a("el-radio",{staticClass:"radio",attrs:{label:"2"}},[a("span",{domProps:{textContent:e._s(e.LANG["新窗口打开"]||"新窗口打开")}})]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:"3"}},[a("span",{domProps:{textContent:e._s(e.LANG["本页面跳转"]||"本页面跳转")}})]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:"4"}},[a("span",{domProps:{textContent:e._s(e.LANG["下拉展开"]||"下拉展开")}})])],1)],1),e._v(" "),e.linkShow?a("el-form-item",{attrs:{label:"链接",prop:"link"}},[a("el-input",{staticClass:"w80",model:{value:e.modeData.link,callback:function(t){e.$set(e.modeData,"link",t)},expression:"modeData.link"}})],1):e._e(),e._v(" "),a("el-col",[e.pcshow?a("el-form-item",{attrs:{label:e.LANG["PC活动规则编辑"]||"PC活动规则编辑",prop:"content"}},[a("el-input",{staticStyle:{display:"none"},model:{value:e.modeData.content,callback:function(t){e.$set(e.modeData,"content",t)},expression:"modeData.content"}}),e._v(" "),a("markdownEdit",{staticClass:"w80",attrs:{id:"pcmd"},model:{value:e.modeData.content,callback:function(t){e.$set(e.modeData,"content",t)},expression:"modeData.content"}})],1):e._e()],1),e._v(" "),a("el-col",[e.mbshow?a("el-form-item",{staticStyle:{"z-index":"9"},attrs:{label:e.LANG["H5活动规则编辑"]||"H5活动规则编辑",prop:"content2"}},[a("el-input",{staticStyle:{display:"none"},model:{value:e.modeData.content2,callback:function(t){e.$set(e.modeData,"content2",t)},expression:"modeData.content2"}}),e._v(" "),a("markdownEdit",{staticClass:"w80",attrs:{id:"mbshowww"},model:{value:e.modeData.content2,callback:function(t){e.$set(e.modeData,"content2",t)},expression:"modeData.content2"}})],1):e._e()],1)],1)],1)],1),e._v(" "),"add"==e.seachData.type?a("el-col",{staticClass:"tCent",attrs:{span:24}},[a("el-button",{attrs:{type:"primary",plain:!0},on:{click:function(t){return e.goBack(e.type="add")}}},[a("span",{domProps:{textContent:e._s(e.LANG["取消生成"]||"取消生成")}})]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.doSubmit(e.type="add")}}},[a("span",{domProps:{textContent:e._s(e.LANG["生成优惠"]||"生成优惠")}})])],1):a("el-col",{staticClass:"tCent",attrs:{span:24}},[a("el-button",{attrs:{type:"primary",plain:!0},on:{click:function(t){return e.goBack(e.type="edit")}}},[a("span",{domProps:{textContent:e._s(e.LANG["取消修改"]||"取消修改")}})]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.doSubmit(e.type="edit")}}},[a("span",{domProps:{textContent:e._s(e.LANG["保存修改"]||"保存修改")}})])],1)],1)],1),e._v(" "),a("confirm",{attrs:{confirmConfig:e.confirmConfig},on:{"do-confirm":e.doShowError,"do-cancel":e.doShowError}})],1)},[],!1,p,"data-v-11802d99",null);t.default=m.exports},201:function(e,t,a){"use strict";var i={data:()=>({LANG:LANG,autofocus:!1}),props:{confirmConfig:{type:Object,default:{state:!1,msg:"",fn:"",obj:{}}}},watch:{"confirmConfig.state":function(e){e&&(this.autofocus=!0)}},components:{},methods:{doConfirm(){this.$emit("do-confirm",{fn:this.confirmConfig.fn,obj:this.confirmConfig.obj,flag:this.confirmConfig.flag}),this.confirmConfig.state=!1},doCancel(){this.confirmConfig.state=!1,this.$emit("do-cancel",{fn:this.confirmConfig.fn,obj:this.confirmConfig.obj,flag:this.confirmConfig.flag})}},directives:{focus:{update:function(e,{value:t}){t&&e.focus()}}},mounted(){},created(){}},n=a(24);var o=function(e){a(214)},s=Object(n.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"confirm"}},[e.confirmConfig.state?a("el-dialog",{attrs:{title:e.LANG["系统提示"]||"系统提示",size:"tiny","before-close":e.doCancel},on:{close:e.doCancel},model:{value:e.confirmConfig.state,callback:function(t){e.$set(e.confirmConfig,"state",t)},expression:"confirmConfig.state"}},[a("p",[a("span",[e._v(e._s(e.LANG[e.confirmConfig.msg]||e.confirmConfig.msg))])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"formCancel",on:{click:e.doCancel}},[e._v(e._s(e.LANG["取 消"]||"取 消"))]),e._v(" "),a("el-button",{directives:[{name:"focus",rawName:"v-focus",value:e.autofocus,expression:"autofocus"}],staticClass:"formSave",attrs:{type:"primary"},on:{click:e.doConfirm}},[e._v(e._s(e.LANG["确 定"]||"确 定"))])],1)]):e._e()],1)},[],!1,o,null,null);t.a=s.exports},214:function(e,t,a){},225:function(e,t,a){},229:function(e,t,a){"use strict";var i={data:()=>({checkVal:[],checkAll:!1,isIndeterminate:!0}),props:{checkOptions:Array,checkedval:{type:Object,default:{checked:[]}},sReset:Boolean},watch:{sReset:function(e){!0===e&&this.changeReset()}},methods:{init(){if(this.checkedval.checked.length>0){for(let e in this.checkedval)this.checkVal.push(this.checkedval[e]),this.checkedval.checked.push(this.checkedval[e]);this.checkAll=!0}else this.checkVal=[],this.checkedval.checked=[],this.checkAll=!1,this.isIndeterminate=!1},checkallState(){this.checkOptions.length===this.checkedval.checked.length&&this.checkOptions.length>0?this.checkAll=!0:this.checkAll=!1},handleCheckAllChange(e){let t=window.event||e,a=t.srcElement?t.srcElement:t.target,i=[];this.checkOptions.length&&this.checkOptions[0].value?this.checkOptions.forEach(e=>{i.push(e.value)}):i=this.checkOptions,this.checkVal=a.checked?i:[],this.checkedval.checked=a.checked?i:[],this.isIndeterminate=!1,this.$emit("change-option",{item:this.checkedval.checked})},handleCheckedCitiesChange(e){let t=e.length;this.checkAll=t===this.checkOptions.length,this.isIndeterminate=t>0&&t<this.checkOptions.length,this.$emit("change-option",{item:this.checkedval.checked})},changeReset(){this.checkVal=[],this.checkedval.checked=[],this.checkAll=!1,this.isIndeterminate=!1}},mounted(){this.init()},updated(){let e=this;this.$nextTick(function(){e.checkallState()})}},n=a(24);var o=function(e){a(225)},s=Object(n.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"changeAll"}},[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),a("el-checkbox-group",{staticClass:"mt15",on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedval.checked,callback:function(t){e.$set(e.checkedval,"checked",t)},expression:"checkedval.checked"}},e._l(e.checkOptions,function(t,i){return a("el-checkbox",{key:i,attrs:{label:t.value||t}},[e._v(e._s(t.label||t))])}),1)],1)},[],!1,o,"data-v-7c01861b",null);t.a=s.exports},438:function(e,t,a){}}]);