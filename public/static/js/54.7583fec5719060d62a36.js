(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{173:function(t,e,l){"use strict";l.r(e);var a={data:()=>({LANG:LANG,tableUrl:"",baseUrl:"",columnsUrl:"",lottery_id:"",lotteryTypeList:[],manualAward:{lottery_number:"",lottery_id:""},lotteryList:[],dialogVisible:!1}),components:{tableGrid:l(197).a},methods:{init(){let t=this;t.lotteryList=[],t.dialogVisible=!1,this.columnsUrl="/static/json/lotteryNew/lotterytResults/columns.json",this.baseUrl=URL.api+ROUTES.GET.lottery.result;let e=URL.api+ROUTES.GET.lottery.types.$;this.$.autoAjax("get",e,"",{ok:e=>{if(0==e.state&&e.data){let l=e.data||[],a=0;l.forEach(e=>{t.lotteryList.push({label:e.name,value:e.id.toString(),pid:e.pid})}),t.lotteryTypeList=[];for(let e in l)0!=l[e].pid&&(1===(a+=1)&&(t.lottery_id=parseInt(l[e].id).toString(),t.tableUrl=t.baseUrl+"?lottery_id="+t.lottery_id),t.lotteryTypeList.push({name:l[e].name,id:l[e].id.toString()}))}},p:()=>{},error:t=>{console.log(t)}})},changeLottery(t){this.lottery_id=t,this.tableUrl=this.baseUrl+"?lottery_id="+parseInt(t)},awardButton(){this.dialogVisible=!0},handleClose(){this.dialogVisible=!1},manualAwardSubmit(){let t=this;this.$.autoAjax("patch",URL.api+ROUTES.PATCH.lottery.handSettle,this.manualAward,{ok:e=>{0===e.state&&e.data?t.$message.success("手动派彩成功"):t.$message.error("手动派彩失败")}}),this.dialogVisible=!1}},created(){this.init()}},i=l(24);var s=function(t){l(464)},r=Object(i.a)(a,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{attrs:{id:"lotteryResults"}},[l("el-row",[l("el-col",{staticClass:"pb",attrs:{span:12}},[l("div",[l("span",[t._v(t._s(t.LANG["彩种名称"]||"彩种名称"))]),t._v(" "),l("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},on:{change:t.changeLottery},model:{value:t.lottery_id,callback:function(e){t.lottery_id=e},expression:"lottery_id"}},t._l(t.lotteryTypeList,function(t){return l("el-option",{key:t.id,staticStyle:{width:"200px"},attrs:{label:t.name,value:t.id}})}),1)],1)]),t._v(" "),l("el-col",{staticClass:"manualAward",attrs:{span:12}},[l("div",{staticClass:"manualAwardBtn"},[l("el-button",{attrs:{type:"primary"},on:{click:t.awardButton}},[t._v("手动派彩")])],1),t._v(" "),l("div",[l("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,size:"tiny","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[l("el-form",{ref:"form",attrs:{model:t.manualAward,"label-width":"80px"}},[l("el-form-item",{attrs:{label:"彩种名称"}},[l("el-select",{staticClass:"inputW",attrs:{placeholder:"请选择彩种名称"},model:{value:t.manualAward.lottery_id,callback:function(e){t.$set(t.manualAward,"lottery_id",e)},expression:"manualAward.lottery_id"}},t._l(t.lotteryList,function(t,e){return l("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),l("el-form-item",{attrs:{label:"彩期"}},[l("el-input",{staticClass:"inputW",attrs:{type:"number"},model:{value:t.manualAward.lottery_number,callback:function(e){t.$set(t.manualAward,"lottery_number",e)},expression:"manualAward.lottery_number"}})],1)],1),t._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:t.manualAwardSubmit}},[t._v("确 定")])],1)],1)],1)])],1),t._v(" "),l("el-col",[l("tableGrid",{attrs:{columnsUrl:t.columnsUrl,tableUrl:t.tableUrl,pageSet:!0,showRefresh:!1,tableIndex:!1}})],1)],1)},[],!1,s,"data-v-5e2c60d6",null);e.default=r.exports},464:function(t,e,l){}}]);