(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{117:function(t,e,s){"use strict";s.r(e);var a=s(203),l=s(202),i={data:()=>({LANG:LANG,updateDate:"",updateKeys:"",tableUrl:"",activeNames:"",times:30,nowActiveType:"",loading:!1,baseUrl:"",columnsUrl:"",subTotalMoney:{},totalMoney:{},tableLength:0,egamecol:0,num:0,formReset:!1}),props:{formConfig:Array,categorys:Array,activeType:{type:String,default:"lottery"}},methods:{init(t){this.loading=!0;let e=[];this.$.autoAjax("get",URL.api+ROUTES.GET.lottery.types.$,"",{ok:t=>{if(0==t.state&&t.data){let s=t.data||[];for(let t in s)0!==s[t].pid&&"1"===s[t].is_standard&&e.push({label:s[t].name,value:s[t].id})}},p:()=>{},error:t=>{console.log(t)}}),setTimeout(()=>{let s,a;s="{}"==this.$route.query?"?start_time="+sessionStorage.dateTimeStart+"&end_time="+sessionStorage.dateTimeEnd:this.getRouteQuery();let l=this.$route.query.game_type;if(this.categorys.length)for(let e=0;e<this.categorys.length;e++)this.categorys[e].game_id==l&&(this.activeNames=this.categorys[e].game_short,this.nowActiveType=this.categorys[e].game_type,this.getDefaultCategorys(this.categorys[e].game_type,t,s));else this.activeNames="lottery",this.nowActiveType="lottery",this.getDefaultCategorys("lottery",t,s);this.activeType!=this.nowActiveType&&(a="user_name,,"),this.updateKeys=a,this.loading=!1,this.formConfig[4].list=e},100)},getDefaultCategorys(t,e,s){if(this.formReset=!1,t)switch(this.activeNames="",setTimeout(()=>{this.formReset=!0},800),this.baseUrl=NOTESQUERYCONFIG&&NOTESQUERYCONFIG[t]&&NOTESQUERYCONFIG[t].baseUrl||"",t){case"lottery":this.columnsUrl=NOTESQUERYCONFIG&&NOTESQUERYCONFIG[t]&&NOTESQUERYCONFIG[t].columnsUrls.lottery||"",this.tableUrl=(e||this.baseUrl)+s;break;case"live":this.activeNames=this.activeNames||"LEBO",this.columnsUrl=NOTESQUERYCONFIG&&NOTESQUERYCONFIG[t]&&NOTESQUERYCONFIG[t].columnsUrls[this.activeNames]||"",this.tableUrl=(e||this.baseUrl)+s+"&type_name="+this.activeNames+"&order_type=2";break;case"egame":this.activeNames=this.activeNames||"YOPLAY",this.columnsUrl=NOTESQUERYCONFIG&&NOTESQUERYCONFIG[t]&&NOTESQUERYCONFIG[t].columnsUrls[this.activeNames]||"",this.tableUrl=(e||this.baseUrl)+s+"&type_name="+this.activeNames+"&order_type=1"}},getRouteQuery(){let t,e,s,a="?";if("{}"!=this.$route.query){let l=this.$route.query;t=l.user_name||"",e=l.start_time||"",s=l.end_time||"",t&&(a+="user_name="+t),e&&(a.length>5?a+="&start_time="+e:a+="start_time="+e),s&&(a.length>5?a+="&end_time="+s:a+="end_time="+s)}return a},doQuery(t){"lottery"===this.activeType?this.tableUrl=this.baseUrl+this.addSearch(t.item):"fish"===this.activeType?this.tableUrl=this.baseUrl+this.addSearch(t.item)+"&type_name="+this.activeNames:this.tableUrl=this.addSearch(t.item)?this.baseUrl+this.addSearch(t.item)+"&type_name="+this.activeNames+"&order_type="+("live"===this.activeType?2:1):this.baseUrl+"?type_name="+this.activeNames+"&order_type="+("live"===this.activeType?2:1)},resetFormData(){"lottery"===this.activeType||("fish"===this.activeType?this.tableUrl=this.baseUrl+"?start_time="+sessionStorage.dateTimeStart+"&end_time="+sessionStorage.dateTimeEnd+"&type_name="+this.activeNames:this.tableUrl=this.baseUrl+"?start_time="+sessionStorage.dateTimeStart+"&end_time="+sessionStorage.dateTimeEnd+"&type_name="+this.activeNames+"&order_type="+("live"===this.activeType?2:1))},getTableData(t){if(this.tableLength=0,this.subTotalMoney={},this.totalMoney={},t.allData&&t.allData.attributes){this.tableLength=t.allData.attributes.total;let e=t.allData.attributes;if(e.subTotalMoney)for(let t in e.subTotalMoney)this.subTotalMoney[t]=FORMATMONEY(e.subTotalMoney[t]);if(e.totalMoney)for(let t in e.totalMoney)this.totalMoney[t]=FORMATMONEY(e.totalMoney[t])}},doHandle(t){switch(t.fn){case"openMember":this.openMember(t.row);break;case"openAgent":this.openAgent(t.row)}},openAgent(t){this.$router.push({path:"/agentAccount",query:{name:t.agent||t.agent_name}})},openMember(t){this.$router.push({path:"/memberManagement",query:{name:t.user_name}})},handleClick(t){switch(this.updateKeys="",setTimeout(()=>{this.updateKeys="user_name,,order_number,,start_time,"+sessionStorage.dateTimeStart+",end_time,"+sessionStorage.dateTimeEnd}),this.activeType){case"live":this.tableUrl=this.baseUrl+"?start_time="+sessionStorage.dateTimeStart+"&end_time="+sessionStorage.dateTimeEnd+"&type_name="+t.name+"&order_type=2";break;case"egame":this.columnsUrl=NOTESQUERYCONFIG&&NOTESQUERYCONFIG[this.activeType]&&NOTESQUERYCONFIG[this.activeType].columnsUrls[t.name]||"",this.tableUrl=this.baseUrl+"?start_time="+sessionStorage.dateTimeStart+"&end_time="+sessionStorage.dateTimeEnd+"&type_name="+t.name+"&order_type=1"}}},components:{formEdit:a.a,tablegrid:l.a},computed:{},watch:{activeType:function(t){if(t&&this.nowActiveType&&t!=this.nowActiveType){let e="?start_time="+sessionStorage.dateTimeStart+"&end_time="+sessionStorage.dateTimeEnd;this.getDefaultCategorys(t,"",e)}else this.nowActiveType&&this.init()}},mounted(){},activated(){this.init()}},o=s(10),_={data:()=>({LANG:LANG,activeType:"",formConfig:[],query:{},baseUrl:"",columnsUrl:"",categorys:[],activeCategory:"",gamesTypes:[],liveArr:[],egameArr:[],fishArr:[]}),components:{nonetesQuery:Object(o.a)(i,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{id:"notesQuery"}},[t.categorys&&t.categorys.length?s("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},t._l(t.categorys,function(t){return s("el-tab-pane",{key:t.game_id,attrs:{label:t.game_name,name:t.game_short}})}),1):t._e(),t._v(" "),t.formConfig&&t.formConfig.length?s("formEdit",{attrs:{formVisible:{state:!1},formConfig:t.formConfig,type:"search",labelWidth:"90px",isEdit:{state:!1},showAdd:!1,formReset:t.formReset,updateDate:t.updateDate,updateKeys:t.updateKeys},on:{"do-query":t.doQuery,"reset-form":t.resetFormData}}):t._e(),t._v(" "),s("tablegrid",{attrs:{columnsUrl:t.columnsUrl,tableUrl:t.tableUrl,showExport:!1,times:t.times,getData:!0},on:{"get-table-data":t.getTableData,"do-handle":t.doHandle}},[t.tableLength>0&&("lottery"===t.activeType||"fish"===t.activeType)?s("tr",{attrs:{slot:"other"},slot:"other"},[s("td",{attrs:{colspan:"lottery"===t.activeType?9:6}},[s("div",{staticClass:"cell"},[t._v(t._s(t.LANG["小计"]||"小计"))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.pay_money))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.valid_bet))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.send_prize))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.lose_earn))])])]):t._e(),t._v(" "),t.tableLength>0&&("lottery"===t.activeType||"fish"===t.activeType)?s("tr",{attrs:{slot:"other"},slot:"other"},[s("td",{attrs:{colspan:"lottery"===t.activeType?9:6}},[s("div",{staticClass:"cell"},[t._v(t._s(t.LANG["总计"]||"总计"))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.pay_money))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.valid_bet))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.send_prize))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.lose_earn))])])]):t._e(),t._v(" "),t.tableLength>0&&"live"===t.activeType?s("tr",{attrs:{slot:"other"},slot:"other"},[s("td",{attrs:{colspan:"6"}},[s("div",{staticClass:"cell"},[t._v(t._s(t.LANG["小计"]||"小计"))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.pay_money))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.valid_bet))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.lose_earn))])])]):t._e(),t._v(" "),t.tableLength>0&&"live"===t.activeType?s("tr",{attrs:{slot:"other"},slot:"other"},[s("td",{attrs:{colspan:"6"}},[s("div",{staticClass:"cell"},[t._v(t._s(t.LANG["总计"]||"总计"))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.pay_money))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.valid_bet))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.lose_earn))])])]):t._e(),t._v(" "),t.tableLength>0&&"egame"===t.activeType&&"PT"===t.activeNames?s("tr",{attrs:{slot:"other"},slot:"other"},[s("td",{attrs:{colspan:"8"}},[s("div",{staticClass:"cell"},[t._v(t._s(t.LANG["小计"]||"小计"))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.pay_money))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.send_prize))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.jp_contri_subtotal))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.jackpot_bonus_subtotal))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.dollar_ball_bets_subtotal))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.prize_us_subtotal))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.contri_us_subtotal))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.db_jp_subtotal))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.valid_bet))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.lose_earn))])])]):t._e(),t._v(" "),t.tableLength>0&&"egame"===t.activeType&&"PT"===t.activeNames?s("tr",{attrs:{slot:"other"},slot:"other"},[s("td",{attrs:{colspan:"8"}},[s("div",{staticClass:"cell"},[t._v(t._s(t.LANG["总计"]||"总计"))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.pay_money))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.send_prize))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.jp_contri_total))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.jackpot_bonus_total))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.dollar_ball_bets_total))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.prize_us_total))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.contri_us_total))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.db_jp_total))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.valid_bet))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.lose_earn))])])]):t._e(),t._v(" "),t.tableLength>0&&"egame"===t.activeType&&("MG"==t.activeNames||"MW"==t.activeNames)?s("tr",{attrs:{slot:"other"},slot:"other"},[s("td",{attrs:{colspan:7}},[s("div",{staticClass:"cell"},[t._v(t._s(t.LANG["小-计"]||"小-计"))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.pay_money))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.valid_bet))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.jp_contri_subtotal))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.send_prize))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.lose_earn))])])]):t._e(),t._v(" "),t.tableLength>0&&"egame"===t.activeType&&("MG"==t.activeNames||"MW"==t.activeNames)?s("tr",{attrs:{slot:"other"},slot:"other"},[s("td",{attrs:{colspan:"7"}},[s("div",{staticClass:"cell"},[t._v(t._s(t.LANG["总-计"]||"总-计"))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.pay_money))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.valid_bet))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.jp_contri_total))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.send_prize))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.lose_earn))])])]):t._e(),t._v(" "),t.tableLength>0&&"egame"===t.activeType&&("CQ9"==t.activeNames||"GNS"==t.activeNames||"HB"==t.activeNames)?s("tr",{attrs:{slot:"other"},slot:"other"},[s("td",{attrs:{colspan:"7"}},[s("div",{staticClass:"cell"},[t._v(t._s(t.LANG["小-计"]||"小-计"))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.pay_money))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.valid_bet))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.send_prize))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.lose_earn))])])]):t._e(),t._v(" "),t.tableLength>0&&"egame"===t.activeType&&("CQ9"==t.activeNames||"GNS"==t.activeNames||"HB"==t.activeNames)?s("tr",{attrs:{slot:"other"},slot:"other"},[s("td",{attrs:{colspan:"7"}},[s("div",{staticClass:"cell"},[t._v(t._s(t.LANG["总-计"]||"总-计"))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.pay_money))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.valid_bet))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.send_prize))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.lose_earn))])])]):t._e(),t._v(" "),t.tableLength>0&&"egame"===t.activeType&&("FG"==t.activeNames||"JDB"==t.activeNames)?s("tr",{attrs:{slot:"other"},slot:"other"},[s("td",{attrs:{colspan:"7"}},[s("div",{staticClass:"cell"},[t._v(t._s(t.LANG["小计"]||"小计"))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.pay_money))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.send_prize))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.jackpot_bonus_subtotal))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.jp_contri_subtotal))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.valid_bet))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.subTotalMoney.lose_earn))])])]):t._e(),t._v(" "),t.tableLength>0&&"egame"===t.activeType&&("FG"==t.activeNames||"JDB"==t.activeNames)?s("tr",{attrs:{slot:"other"},slot:"other"},[s("td",{attrs:{colspan:"7"}},[s("div",{staticClass:"cell"},[t._v(t._s(t.LANG["总计"]||"总计"))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.pay_money))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.send_prize))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.jackpot_bonus_total))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.jp_contri_total))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.valid_bet))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.totalMoney.lose_earn))])])]):t._e()])],1)},[],!1,null,null,null).exports},watch:{},methods:{init(){for(let t in NOTESQUERYCONFIG)NOTESQUERYCONFIG[t].baseUrl&&NOTESQUERYCONFIG[t].old_baseurl&&(NOTESQUERYCONFIG[t].baseUrl=NOTESQUERYCONFIG[t].old_baseurl);this.activeType="lottery",this.formConfig=NOTESQUERYCONFIG&&NOTESQUERYCONFIG.lottery&&NOTESQUERYCONFIG.lottery.formConfig||[],this.toggle("lottery")},getGamesType(t){this.$.autoAjax("get",URL.api+ROUTES.GET.games.games,"",{ok:e=>{let s=e.data||[];this.liveArr.splice(0,this.liveArr.length),this.egameArr.splice(0,this.egameArr.length),0===e.state&&s?s.forEach(t=>{this.gamesTypes.push(t),"live"===t.game_type?this.liveArr.push(t):"egame"===t.game_type?this.egameArr.push(t):"fish"===t.game_type&&this.fishArr.push(t)}):this.$message.error(LANG["未知错误，请稍后重试！"]||"未知错误，请稍后重试！"),t&&(this.activeType=this.getNotesCategorys(t),this.toggle(this.activeType))},p:()=>{},error:t=>{console.log(t)}})},toggle(t){switch(this.activeType=t,t){case"lottery":this.categorys=[];break;case"live":this.categorys=this.liveArr;break;case"egame":this.categorys=this.egameArr}this.formConfig=NOTESQUERYCONFIG&&NOTESQUERYCONFIG[this.activeType]&&NOTESQUERYCONFIG[this.activeType].formConfig||[]},getNotesCategorys(t){for(let e=0;e<this.gamesTypes.length;e++)if(this.gamesTypes[e].game_id==t)return this.gamesTypes[e].game_type;return""}},created(){},activated(){if(this.init(),"{}"==JSON.stringify(this.$route.query))this.getGamesType();else{let t=this.$route.query.game_type||"";this.getGamesType(t)}},deactivated(){this.formConfig=[]}};var r=function(t){s(504)},c=Object(o.a)(_,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"templateManage w100",attrs:{id:"templateManage"}},[s("div",{staticClass:"el-tabs el-tabs--border-card"},[s("div",{staticClass:"el-tabs__header"},[s("div",{staticClass:"el-tabs__nav-wrap"},[s("div",{staticClass:"el-tabs__nav-scroll"},[s("div",{staticClass:"el-tabs__nav"},[s("div",{staticClass:"el-tabs__item",class:{"is-active":"lottery"==t.activeType},on:{click:function(e){return t.toggle("lottery")}}},[t._v("\n                            "+t._s(t.LANG["彩票"]||"彩票")+"\n                        ")]),t._v(" "),s("div",{staticClass:"el-tabs__item",class:{"is-active":"live"==t.activeType},on:{click:function(e){return t.toggle("live")}}},[t._v("\n                            "+t._s(t.LANG["视讯"]||"视讯")+"\n                        ")]),t._v(" "),s("div",{staticClass:"el-tabs__item",class:{"is-active":"egame"==t.activeType},on:{click:function(e){return t.toggle("egame")}}},[t._v("\n                            "+t._s(t.LANG["电子"]||"电子")+"\n                        ")])])])])]),t._v(" "),s("div",{staticClass:"el-tabs__content"},[s("nonetesQuery",{attrs:{formConfig:t.formConfig,categorys:t.categorys,query:t.query,activeType:t.activeType}})],1)])])},[],!1,r,null,null);e.default=c.exports},504:function(t,e,s){}}]);